
    <!-- nav bar -->
    <%- include('partials/includes/header') %>
    <%- include('partials/includes/navbar') %>


    <br /> <br /> <br /> <br />
    <div class="container-fluid">
       <div class="row">
         <div class="col-2">
            <nav class="left_side_bar">
                <div class="tools_name">Tools</div>
            
                    <ul class="navbar-nav">
                        <li class="nav-item">
                                <a href="#" class="facebook"><i class="far fa-edit"></i><span style="padding-left: 10px">Name</span></a>  
                        </li>
                        <li class="nav-item">
                            <a href="#" class="facebook"><i class="fas fa-font"></i><span style="padding-left: 15px">Font</span></a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="facebook"><i class="fas fa-palette"></i><span style="padding-left: 10px">Color</span></a>
                        </li>
                        <li class="nav-item">
            
                                <a href="#" class="facebook"><i class="fab fa-themeco"></i><span style="padding-left: 10px">Theme</span></a>
                        </li>
                        
                    </ul>
                    
                
            </nav>
         </div>
         <div class="col-4">
            <nav class="navbar-nav form_side_bar">

                <div class="container" style="padding:30px">
                  
                    <form class="upload" enctype="multipart/form-data" id="form_data">
                      <div class="form-group" id="upload_image_post">
                          <input id="userPhoto" type="file" name="userPhoto" style="visibility:hidden"/>
                          <span title="attach file" class="attachFileSpan" onclick="document.getElementById('userPhoto').click()"><img src="../public/image/upload_image.png" class="rounded-circle border" style="width:65px; height:65px"/> OR <img src="../public/image/upload_video_1.png" class="rounded-circle border" style="width:60px; height:60px"/></span>
                          <div class="progress">
                              <div class="progress-bar" role="progressbar"  aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                          </div>
                      </div>

                      <div class="form-row">
                        <div class="form-group col-md-6">
                          <input type="text" class="form-control" id="event_name" name="event_name" placeholder="Name">
                        </div>
                        <div class="form-group col-md-6">
                          <input type="text" class="form-control" id="event_title" placeholder="Event Title">
                        </div>
                      </div>
                      <div class="form-group">
                        <textarea class="form-control" id="event_description" name="event_description" placeholder="Tell us about the event"></textarea>
                      </div>
                      <div class="form-group">
                          <textarea class="form-control" id="event_read_more" name="event_read_more" placeholder="Add content to Read More"></textarea>
                      </div>

                      <div class="form-row">
                          <div class="form-group col-md-6">
                            <input type="text" class="form-control" id="event_type" name="event_type" placeholder="Event Type">
                          </div>
                          <div class="form-group col-md-6">
                            <input type="text" class="form-control" id="event_organization" name="event_organization" placeholder="Organization">
                          </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group col-md-4">
                              <label for="event_start_date">Start Date</label>
                              <input type="date" class="form-control" id="event_start_date">
                            </div>
                            <div class="form-group col-md-4">
                              <label for="event_start_time">Start Time</label>
                              <input type="time" class="form-control" id="event_start_time">
                            </div>
                            <div class="form-group col-md-4">
                                <label for="event_select_start_am_pa">Select</label>
                                <select id="event_select_start_am_pa" class="form-control">
                                    <option selected>AM</option>
                                    <option>PM</option>
                                </select>
                              </div>
                          </div>

                          <div class="form-row">
                              <div class="form-group col-md-4">
                                <label for="event_end_date">End Date</label>
                                <input type="date" class="form-control" id="event_end_date">
                              </div>
                              <div class="form-group col-md-4">
                                <label for="event_end_time">End Time</label>
                                <input type="time" class="form-control" id="event_end_time">
                              </div>
                              <div class="form-group col-md-4">
                                  <label for="event_select_end_am_pa">Select</label>
                                  <select id="event_select_end_am_pa" class="form-control">
                                      <option selected>AM</option>
                                      <option>PM</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group col-md-4">
                                  <label for="event_register_clase_date">Registeration Close</label>
                                  <input type="date" class="form-control" id="event_register_clase_date">
                              
                                </div>
                                <div class="form-group col-md-4">
                                  <label for="event_register_clase_time">Registeration Close</label>
                                  <input type="time" class="form-control" id="event_register_clase_time">
                                </div>
                                <div class="form-group col-md-4">
                                    <label for="event_register_am_pa">Select</label>
                                    <select id="event_register_am_pa" class="form-control">
                                        <option selected>AM</option>
                                        <option>PM</option>
                                      </select>
                                  </div>
                                  <small class="form-text text-muted">If no Registeration data & time, then don't mention</small>
                              </div>

                              <div class="form-row">
                                  <div class="form-group col-md-3">
                                    <label for="share_locaton" class="form-control col-form-label">Share Location</label>
                                  </div>
                                  <div class="form-group col-md-9"><!--controls-->
                                      <input id="pac-input" class="form-control" type="text" placeholder="Search Box">
                                     
                                  </div>
                                  <div id="map"></div>
                                </div>
                              
                              <button type="submit" class="btn btn-primary btn_sub_mit">Submit</button>
                      </form>

                
                              
                </div>    
                            
                </nav>
          </div>
          <div class="col-6">
           <div class="container">
             
             
              <div class="container" style="padding-top: 50px">
                  <div class="card mb-3">
                    <div class="row">
                      
                      <div class="col-10" style="padding-left:50px;padding-top:20px">
                          <div class="d-flex bd-highlight">
                              <% if(items.user_profile_pic){ %>
                            <div class="img_cont"><img src="../public/profile_image/<%= items.user_profile_pic %>" class="rounded-circle user_img"></div>
                            <% } else { %>
                              <div class="img_cont"><img src="../public/profile_image/icon.jpg" class="rounded-circle user_img"></div>
                              <% } %>
                          <div class="user_info"><%=items.user_firstname %> <%=items.user_lastname %><br/>
                            <small>Last seen 2 hrs</small><br/><i class="fas fa-map-marker-alt"></i>
                            <small style="padding-left:10px" id="show_location"></small>
                          </div> 
                        </div>
                      </div>  
                      
                     

                          <div class="col-2" style="padding-left:20px;padding-top:20px">
                              <i style="font-size:24px" class="fa">&#xf0c9;</i>
                              
                          </div>
                    </div>
                     

                     
                    <div class="row">
                        <span style="padding-left:35px" id="show_title">
                        </span>
                     
                      <div class="container" style="margin-left:20px;margin-right:20px;margin-top:5px">
                      <p id="tell_us_about_the_event"></p>
                      
                      <div class="collapse" id="collapseExample">
                             
                      </div>


                      
                        
                        

                    </div>
                    </div>
                      <div class="card-body" id="display_image">
                          
                      </div>
                      <div class="card-footer">
                              <button class="like bg-btn fa fa-thumbs-up" style="color:#0275d8;"></button>
                              <button class="post_comment bg-btn fa fa-comments"></button>
                      </div>
                      
              </div>  
                  
              </div>
            
           </div>
          </div>
       </div>

    </div>


    <script>
         
      function initAutocomplete() 
      {
          var map = new google.maps.Map(document.getElementById('map'), 
          {
            center: {lat: 19.188919, lng: 73.041193},
            zoom: 15,
            mapTypeId: 'roadmap'
          });
  
          // Create the search box and link it to the UI element.
          var input = document.getElementById('pac-input');
          var searchBox = new google.maps.places.SearchBox(input);
          map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);
  
          // Bias the SearchBox results towards current map's viewport.
          map.addListener('bounds_changed', function() 
      {
            searchBox.setBounds(map.getBounds());
          });
  
          var markers = [];
          // Listen for the event fired when the user selects a prediction and retrieve
          // more details for that place.
          searchBox.addListener('places_changed', function() 
      {
            var places = searchBox.getPlaces();
  
            if (places.length == 0) 
        {
              return;
            }
  
            // Clear out the old markers.
            markers.forEach(function(marker) 
        {
              marker.setMap(null);
            });
            markers = [];
  
            // For each place, get the icon, name and location.
            var bounds = new google.maps.LatLngBounds();
            places.forEach(function(place) 
        {
              if (!place.geometry) 
        {
                console.log("Returned place contains no geometry");
                return;
              }
              var icon = {
                url: place.icon,
                size: new google.maps.Size(71, 71),
                origin: new google.maps.Point(0, 0),
                anchor: new google.maps.Point(17, 34),
                scaledSize: new google.maps.Size(25, 25)
              };
  
              // Create a marker for each place.
              markers.push(new google.maps.Marker({
                map: map,
                title: place.formatted_address,
                position: place.geometry.location,
                animation: google.maps.Animation.DROP
              }));
        
             console.log(place.address_components);
             console.log(place.formatted_address);
             console.log(place.geometry.location.lat());
             console.log(place.geometry.location.lng());
  
              if (place.geometry.viewport) 
        {
                // Only geocodes have viewport.
                bounds.union(place.geometry.viewport);
              } else {
                bounds.extend(place.geometry.location);
              }
            });
            map.fitBounds(bounds);
          });
        }
  
  function geocodePosition(pos) 
  {
    geocoder.geocode(
    {
      latLng: pos
    }, 
    function(responses) 
    {
      if (responses && responses.length > 0) 
    {
        updateMarkerAddress(responses[0].formatted_address);
      } 
    else 
    {
        updateMarkerAddress('Cannot determine address at this location.');
      }
    });
  }
      </script>
      <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD2nPlSt_nM7PSKD8So8anbUbBYICFWcCA&libraries=places&callback=initAutocomplete"
           async defer></script>


    <script>
      $(document).ready(function()
      {
        var image_data = "";
        $('input[type="file"]').change(function(e)
        {
          var formData = new FormData();
          var fileName = e.target.files[0].name;
          image_data = e.target.files[0];
          let display_image = document.getElementById("display_image");
          display_image.innerHTML = "";
          display_image.innerHTML =  display_image.innerHTML + `<ul class="nav"> <li> <a href="#"> <img src="../public/profile_image/${fileName}" alt="error check" class="img-fluid"></a></li></ul>`;
          formData.append('userPhoto',image_data) 
          


        $('#form_data').submit(function(e)
        {
            e.preventDefault();

          var event_name = $('#event_name').val();
          var event_title = $('#event_title').val();
          var event_description = $('#event_description').val();event_state
          var event_read_more = $('#event_read_more').val();
          var event_city = $('#event_city').val();
          var event_country = $('#event_country').val();
          var event_state = $('#event_state').val();
          var event_type = $('#event_type').val();
          var event_organization = $('#event_organization ').val();

          var event_start_date = $('#event_start_date').val();
          var event_start_time = $('#event_start_time').val();
          var event_select_start_am_pa = $('#event_select_start_am_pa ').val();

          var event_end_date = $('#event_end_date').val();
          var event_end_time = $('#event_end_time').val();
          var event_select_end_am_pa = $('#event_select_end_am_pa ').val();

          var event_register_clase_date = $('#event_register_clase_date').val();
          var event_register_clase_time = $('#event_register_clase_time').val();
          var event_register_am_pa = $('#event_register_am_pa ').val();
          
          formData.append('event_name',event_name);
          formData.append('event_title', event_title);
          formData.append('event_description', event_description);
          formData.append('event_read_more', event_read_more);
          formData.append('event_city', event_city);
          formData.append('event_country', event_country);
          formData.append('event_state', event_state);
          formData.append('event_type', event_type);
          formData.append('event_organization', event_organization);
          formData.append('event_start_date', event_start_date);
          formData.append('event_start_time', event_start_time);
          formData.append('event_select_start_am_pa', event_select_start_am_pa);

          formData.append('event_end_date', event_end_date);
          formData.append('event_end_time', event_end_time);
          formData.append('event_select_end_am_pa', event_select_end_am_pa);
          formData.append('event_register_clase_date', event_register_clase_date);
          formData.append('event_register_clase_time', event_register_clase_time);
          formData.append('event_register_am_pa', event_register_am_pa);

            
            $.ajax(
                {
                        url:"/event",
                        method:"POST",
                        cache: false,
                        contentType: false,
                        processData: false,
                        data:formData,
                        success:function(response)
                        {       
                               alert(response);
                        },
                        error: function(jqXHR, textStatus, errorThrown)
                                {
                                        console.log('jqXHR:');
                                        console.log(jqXHR);
                                        console.log('textStatus:');
                                        console.log(textStatus);
                                        console.log('errorThrown:');
                                        console.log(errorThrown);
                                        alert(errorThrown);
                        }
                });
        })
        
        });

        $('#event_title').on('click',function()
        {
          var event_title = $('#event_title').val();
          //alert(event_name);
          let show_title = document.getElementById("show_title");
          show_title.innerHTML = "";

          show_title.innerHTML =  show_title.innerHTML + `<strong>${event_title}</strong>`;
        });

        $('#event_description').on('click',function()
        {
          var event_description = $('#event_description').val();
          //alert(event_description);
          let tell_us_about_the_event = document.getElementById("tell_us_about_the_event");
          tell_us_about_the_event.innerHTML = "";

          tell_us_about_the_event.innerHTML =  tell_us_about_the_event.innerHTML + `${event_description}<a data-toggle="collapse" href="#collapseExample" aria-expanded="false" aria-controls="collapseExample">Read More</a>`;
        });

        $('#event_read_more').on('click',function()
        {
          var event_read_more = $('#event_read_more').val();
          //alert(event_description);
          let collapseExample = document.getElementById("collapseExample");
          collapseExample.innerHTML = "";

          collapseExample.innerHTML =  collapseExample.innerHTML + `<p>${event_read_more}</p>`;

          
        });
        var event_country = "";
        $('#event_country').on('click',function()
        {
          event_country = $('#event_country').val();
          let show_location = document.getElementById("show_location")
          show_location.innerHTML = "";

          show_location.innerHTML =  show_location.innerHTML + `${event_country},`;
        });
        var event_city = "";
        $('#event_city').on('click',function()
        {
          event_city = $('#event_city').val();
          let show_location = document.getElementById("show_location")
          show_location.innerHTML = "";

          show_location.innerHTML =  show_location.innerHTML + `${event_country},${event_city}`;
        });

      
        $('#event_state').on('click',function()
        {
          var event_state = $('#event_state').val();
          let show_location = document.getElementById("show_location")
          show_location.innerHTML = "";

          show_location.innerHTML =  show_location.innerHTML + `${event_country},${event_city},${event_state}`;
        });



          

      });
    
   </script>

<!--    
alert(event_name);
alert(event_title)
alert(event_description);
alert(event_read_more);

alert(event_country)
alert(event_city);
alert(event_state);
alert(event_type);
alert(event_organization)
alert(event_start_date);
alert(event_start_time);
alert(event_select_start_am_pa)
alert(event_end_date);
alert(event_end_time);

alert(event_select_end_am_pa);
alert(event_register_clase_date);
alert(event_register_clase_time)
alert(event_register_am_pa); -->

<!-- 
//         $(document).on('click','.btn_sub_mit',function()
//         {
         
          // var event_name = $('#event_name').val();
          // var event_title = $('#event_title').val();
          // var event_description = $('#event_description').val();event_state
          // var event_read_more = $('#event_read_more').val();
          // var event_city = $('#event_city').val();
          // var event_country = $('#event_country').val();
          // var event_state = $('#event_state').val();
          // var event_type = $('#event_type').val();
          // var event_organization = $('#event_organization ').val();

          // var event_start_date = $('#event_start_date').val();
          // var event_start_time = $('#event_start_time').val();
          // var event_select_start_am_pa = $('#event_select_start_am_pa ').val();

          // var event_end_date = $('#event_end_date').val();
          // var event_end_time = $('#event_end_time').val();
          // var event_select_end_am_pa = $('#event_select_end_am_pa ').val();

          // var event_register_clase_date = $('#event_register_clase_date').val();
          // var event_register_clase_time = $('#event_register_clase_time').val();
          // var event_register_am_pa = $('#event_register_am_pa ').val();
             
// // alert(event_name);
// // alert(event_title)
// // alert(event_description);
// // alert(event_read_more);

// // alert(event_country)
// // alert(event_city);
// // alert(event_state);
// // alert(event_type);
// // alert(event_organization)
// // alert(event_start_date);
// // alert(event_start_time);
// // alert(event_select_start_am_pa)
// // alert(event_end_date);
// // alert(event_end_time);

// // alert(event_select_end_am_pa);
// // alert(event_register_clase_date);
// // alert(event_register_clase_time)
// // alert(event_register_am_pa);

//         // var formData = new FormData(image_data);
        //   formData.append('event_name', "event_name");
        //  formData.append('file', image_data);
        //   formData.append('event_name', event_name);
        //   formData.append('fievent_titlele', event_title);
        //   formData.append('event_description', event_description);
        //   formData.append('event_read_more', event_read_more);
        //   formData.append('event_city', event_city);
        //   formData.append('event_country', event_country);
        //   formData.append('event_state', event_state);
        //   formData.append('event_type', event_type);
        //   formData.append('event_organization', event_organization);
        //   formData.append('event_start_date', event_start_date);
        //   formData.append('event_start_time', event_start_time);
        //   formData.append('event_select_start_am_pa', event_select_start_am_pa);

        //   formData.append('event_end_date', event_end_date);
        //   formData.append('event_end_time', event_end_time);
        //   formData.append('event_select_end_am_pa', event_select_end_am_pa);
        //   formData.append('event_register_clase_date', event_register_clase_date);
        //   formData.append('event_register_clase_time', event_register_clase_time);
        //   formData.append('event_register_am_pa', event_register_am_pa);
          
          

          // $.ajax(
          //       {
          //               url:"/event",
          //               method:"POST",
          //               cache: false,
          //               contentType: false,
          //               processData: false,
          //               data:formData,
          //               success:function(response)
          //               {       
          //                      alert(response);
          //               },
          //               error: function(jqXHR, textStatus, errorThrown)
          //                       {
          //                               console.log('jqXHR:');
          //                               console.log(jqXHR);
          //                               console.log('textStatus:');
          //                               console.log(textStatus);
          //                               console.log('errorThrown:');
          //                               console.log(errorThrown);
          //                               alert(errorThrown);
          //               }
          //       });
      
//         }) -->